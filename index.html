<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="DockerDiscordControl (DDC) - Control your Docker containers directly from Discord">
  <meta name="keywords" content="docker, discord, container, management, bot">
  <title>DockerDiscordControl (DDC)</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="styles.css">
  <!-- Marked.js für Markdown-Rendering -->
  <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
</head>
<body>
  <header class="hero">
    <div class="container">
      <div class="logo-container">
        <img src="ddc_web.png" alt="DDC Logo" class="main-logo" loading="eager">
        <div class="brand-text" id="neon-ddc">DDC</div>
      </div>
      <h1>DockerDiscordControl</h1>
      <div class="hero-text">
        <h2 class="tagline">Control your Docker containers directly from Discord!</h2>
        <div class="description-wrapper">
          <p class="description">
            DDC is a powerful bot and web UI to <span class="highlight">start</span>, <span class="highlight">stop</span>, 
            <span class="highlight">monitor</span> and <span class="highlight">manage</span> your containers 
            from any Discord server.
          </p>
        </div>
        
        <div class="donation-section-hero">
          <p style="color:#adb5bd; margin-bottom: 15px;">If you find DDC helpful, consider supporting its development:</p>
          <div class="d-flex justify-content-center flex-wrap">
            <span class="d-inline-block mx-2 align-middle">
              <div class="sparkle-wrapper">
                <a href="https://buymeacoffee.com/dockerdiscordcontrol" target="_blank" rel="noopener noreferrer" class="donation-link">
                  <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 40px !important; width: auto !important;">
                </a>
                <div class="sparkles"></div>
              </div>
            </span>
            <span class="d-inline-block mx-2 align-middle">
              <div class="sparkle-wrapper">
                <a href="https://www.paypal.com/donate/?hosted_button_id=XKVC6SFXU2GW4" target="_blank" rel="noopener noreferrer" class="btn btn-lg donation-btn" style="background-color: #0070ba; border-color: #0070ba; color: white; height: 40px; display: flex; align-items: center; justify-content: center; padding: 0 15px;">
                  <i class="bi bi-paypal me-2"></i> Donate with PayPal
                </a>
                <div class="sparkles"></div>
              </div>
            </span>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center flex-wrap mb-4">
        <a href="https://github.com/DockerDiscordControl/DockerDiscordControl" class="btn btn-github btn-lg m-2">
          <i class="bi bi-github me-2"></i>GitHub Repository
        </a>
        <a href="https://github.com/DockerDiscordControl/DockerDiscordControl#installation" class="btn btn-outline-light btn-lg m-2">
          <i class="bi bi-book me-2"></i>Installation Guide
        </a>
      </div>
    </div>
  </header>

  <!-- Screenshot Carousel -->
  <section class="screenshot-carousel-section">
    <div class="container">
      <div class="screenshot-carousel">
        <div class="carousel-container">
          <div class="carousel-slides" id="carouselSlides">
            <div class="carousel-slide active" data-feature="control">
              <img src="control1.png" alt="Main Control Panel" class="carousel-image">
              <div class="carousel-caption">
                <h3>Main Control Panel</h3>
                <p>Central control interface for managing all Docker containers</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="status">
              <img src="status1.png" alt="Container Status Overview" class="carousel-image">
              <div class="carousel-caption">
                <h3>Container Status Overview</h3>
                <p>Real-time monitoring and status display of all containers</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="control">
              <img src="control2.png" alt="Advanced Control" class="carousel-image">
              <div class="carousel-caption">
                <h3>Advanced Control</h3>
                <p>Detailed container management and advanced operations</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="status">
              <img src="status3.png" alt="Detailed Status" class="carousel-image">
              <div class="carousel-caption">
                <h3>Detailed Status Monitoring</h3>
                <p>Comprehensive container status and performance metrics</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="discord">
              <img src="commands.png" alt="Discord Commands" class="carousel-image">
              <div class="carousel-caption">
                <h3>Discord Commands</h3>
                <p>Control Docker containers with slash commands directly from Discord</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="webui">
              <img src="webui1.png" alt="Web Interface Dashboard" class="carousel-image">
              <div class="carousel-caption">
                <h3>Web Interface - Dashboard</h3>
                <p>Easy configuration through a secure web UI dashboard</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="webui">
              <img src="webui2.png" alt="Web Interface Configuration" class="carousel-image">
              <div class="carousel-caption">
                <h3>Web Interface - Configuration</h3>
                <p>Advanced configuration options and settings</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="webui">
              <img src="webui3.png" alt="Web Interface Monitoring" class="carousel-image">
              <div class="carousel-caption">
                <h3>Web Interface - Monitoring</h3>
                <p>Real-time monitoring and log viewing</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="webui">
              <img src="webui4.png" alt="Web Interface Management" class="carousel-image">
              <div class="carousel-caption">
                <h3>Web Interface - Management</h3>
                <p>Container management and control panel</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="scheduling">
              <img src="task1.png" alt="Task Scheduling" class="carousel-image">
              <div class="carousel-caption">
                <h3>Task Scheduling</h3>
                <p>Schedule container operations with flexible timing options</p>
              </div>
            </div>
            <div class="carousel-slide" data-feature="scheduling">
              <img src="task2.png" alt="Advanced Scheduling" class="carousel-image">
              <div class="carousel-caption">
                <h3>Advanced Scheduling</h3>
                <p>Complex scheduling patterns and automation rules</p>
              </div>
            </div>
          </div>
          
          <!-- Navigation Buttons -->
          <button class="carousel-btn carousel-prev" onclick="changeSlide(-1)">
            <i class="bi bi-chevron-left"></i>
          </button>
          <button class="carousel-btn carousel-next" onclick="changeSlide(1)">
            <i class="bi bi-chevron-right"></i>
          </button>
          
          <!-- Indicators -->
          <div class="carousel-indicators">
            <button class="indicator active" onclick="goToSlide(0)" data-feature="control" title="Main Control Panel"></button>
            <button class="indicator" onclick="goToSlide(1)" data-feature="status" title="Container Status Overview"></button>
            <button class="indicator" onclick="goToSlide(2)" data-feature="control" title="Advanced Control"></button>
            <button class="indicator" onclick="goToSlide(3)" data-feature="status" title="Detailed Status"></button>
            <button class="indicator" onclick="goToSlide(4)" data-feature="discord" title="Discord Commands"></button>
            <button class="indicator" onclick="goToSlide(5)" data-feature="webui" title="Web Interface 1"></button>
            <button class="indicator" onclick="goToSlide(6)" data-feature="webui" title="Web Interface 2"></button>
            <button class="indicator" onclick="goToSlide(7)" data-feature="webui" title="Web Interface 3"></button>
            <button class="indicator" onclick="goToSlide(8)" data-feature="webui" title="Web Interface 4"></button>
            <button class="indicator" onclick="goToSlide(9)" data-feature="scheduling" title="Task Scheduling 1"></button>
            <button class="indicator" onclick="goToSlide(10)" data-feature="scheduling" title="Task Scheduling 2"></button>
          </div>
          
          <!-- Auto-play Controls -->
          <div class="carousel-controls">
            <button class="control-btn" onclick="toggleAutoplay()" id="autoplayBtn">
              <i class="bi bi-pause-fill"></i>
            </button>
            <button class="control-btn" onclick="openCarouselModal()" id="fullscreenBtn">
              <i class="bi bi-arrows-fullscreen"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section-container">
    <div class="container">
      <h2 class="section-title">Features</h2>
      <div class="row">
        <div class="col-md-3 col-sm-6 mb-4">
          <div class="feature-card" data-feature="control" onclick="selectFeature('control')">
            <div class="feature-image">
              <img src="control1.png" 
                   alt="Control Panel & Status Screenshot" 
                   class="feature-screenshot"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="feature-icon-fallback" style="display: none;">
                <i class="bi bi-gear-fill mb-3" style="font-size: 2rem; color: var(--primary-color);"></i>
              </div>
            </div>
            <div class="feature-overlay">
              <i class="bi bi-eye"></i>
              <span>View in carousel</span>
            </div>
            <h3>Control & Status</h3>
            <p>Central control interface and real-time container status monitoring</p>
          </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
          <div class="feature-card" data-feature="discord" onclick="selectFeature('discord')">
            <div class="feature-image">
              <img src="commands.png" 
                   alt="Discord Integration Screenshot" 
                   class="feature-screenshot"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="feature-icon-fallback" style="display: none;">
                <i class="bi bi-discord mb-3" style="font-size: 2rem; color: var(--primary-color);"></i>
              </div>
            </div>
            <div class="feature-overlay">
              <i class="bi bi-eye"></i>
              <span>View in carousel</span>
            </div>
            <h3>Discord Integration</h3>
            <p>Control Docker containers with slash commands directly from Discord</p>
          </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
          <div class="feature-card" data-feature="webui" onclick="selectFeature('webui')">
            <div class="feature-image">
              <img src="webui1.png" 
                   alt="Web Interface Screenshot" 
                   class="feature-screenshot"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="feature-icon-fallback" style="display: none;">
                <i class="bi bi-window mb-3" style="font-size: 2rem; color: var(--primary-color);"></i>
              </div>
            </div>
            <div class="feature-overlay">
              <i class="bi bi-eye"></i>
              <span>View in carousel</span>
            </div>
            <h3>Web Interface</h3>
            <p>Easy configuration through a secure web UI</p>
          </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
          <div class="feature-card" data-feature="scheduling" onclick="selectFeature('scheduling')">
            <div class="feature-image">
              <img src="task1.png" 
                   alt="Scheduling Screenshot" 
                   class="feature-screenshot"
                   onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
              <div class="feature-icon-fallback" style="display: none;">
                <i class="bi bi-calendar-event mb-3" style="font-size: 2rem; color: var(--primary-color);"></i>
              </div>
            </div>
            <div class="feature-overlay">
              <i class="bi bi-eye"></i>
              <span>View in carousel</span>
            </div>
            <h3>Scheduling</h3>
            <p>Schedule container operations with flexible timing options</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Neue README Sektion -->
  <section class="section-container readme-section">
    <div class="container">
      <h2 class="section-title">
        <i class="bi bi-file-earmark-text me-2"></i>Documentation
      </h2>
      <div class="readme-container">
        <div class="readme-header">
          <div class="d-flex align-items-center justify-content-between flex-wrap">
            <div class="d-flex align-items-center">
              <i class="bi bi-github me-2"></i>
              <span>Loaded from GitHub Repository</span>
            </div>
            <div class="readme-status">
              <span id="readme-status" class="badge bg-secondary">Loading...</span>
            </div>
          </div>
        </div>
        <div class="readme-content" id="readme-content">
          <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading README...</span>
            </div>
            <p class="mt-3 text-muted">Loading documentation from GitHub...</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Disclaimer Section -->
  <section class="disclaimer-section">
    <div class="container">
      <div class="disclaimer-container">
        <div class="disclaimer-header">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          <h3>Important Disclaimer</h3>
        </div>
        <div class="disclaimer-content">
          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="disclaimer-item">
                <h4><i class="bi bi-shield-exclamation me-2"></i>Security Notice</h4>
                <p>DockerDiscordControl provides powerful container management capabilities. Ensure proper access controls and security measures are in place before deployment in production environments.</p>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="disclaimer-item">
                <h4><i class="bi bi-gear-wide-connected me-2"></i>System Requirements</h4>
                <p>This tool requires Docker and appropriate system permissions. Test thoroughly in development environments before production use.</p>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="disclaimer-item">
                <h4><i class="bi bi-file-earmark-text me-2"></i>License & Warranty</h4>
                <p>DDC is provided under the MIT License. Use at your own risk. No warranty is provided for any damages or data loss.</p>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="disclaimer-item">
                <h4><i class="bi bi-people-fill me-2"></i>Community Support</h4>
                <p>This is an open-source project. Support is provided by the community through GitHub issues and discussions.</p>
              </div>
            </div>
          </div>
          <div class="disclaimer-footer">
            <p class="text-center mb-0">
              <strong>By using DockerDiscordControl, you acknowledge that you have read and understood these terms.</strong>
              <br>
              <small class="disclaimer-small">For detailed information, please refer to the 
                <a href="https://github.com/DockerDiscordControl/DockerDiscordControl/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" class="disclaimer-link">
                  LICENSE file
                </a> and 
                <a href="https://github.com/DockerDiscordControl/DockerDiscordControl#readme" target="_blank" rel="noopener noreferrer" class="disclaimer-link">
                  documentation
                </a>.
              </small>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="footer-section">
              <h5>DockerDiscordControl</h5>
              <p>&copy; 2025 DockerDiscordControl Project</p>
              <div class="footer-links">
                <a href="https://github.com/DockerDiscordControl/DockerDiscordControl" class="footer-link me-3">
                  <i class="bi bi-github me-1"></i>GitHub
                </a>
                <a href="https://github.com/DockerDiscordControl/DockerDiscordControl/blob/main/LICENSE" class="footer-link me-3">
                  <i class="bi bi-file-earmark-text me-1"></i>License
                </a>
                <a href="https://ddc.bot" class="footer-link">
                  <i class="bi bi-house-door me-1"></i>Homepage
                </a>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="footer-section">
              <h5>Impressum / Legal Notice</h5>
              <div class="impressum-content">
                <p class="mb-2">
                  <strong>Responsible for content:</strong><br>
                  MAX - DockerDiscordControl Project
                </p>
                <p class="mb-2">
                  <strong>Contact:</strong><br>
                  <a href="mailto:max@ddc.bot" class="footer-link">
                    <i class="bi bi-envelope me-1"></i>max@ddc.bot
                  </a>
                </p>
                <p class="mb-0">
                  <strong>Project:</strong><br>
                  Open Source under MIT License
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <div class="row align-items-center">
            <div class="col-md-8">
              <p class="mb-0 small">
                This is an open-source project. No commercial use intended. 
                For support, please use <a href="https://github.com/DockerDiscordControl/DockerDiscordControl/issues" class="footer-link">GitHub Issues</a>.
              </p>
            </div>
            <div class="col-md-4 text-md-end">
              <p class="mb-0 small text-muted">
                Made with ❤️ for the Docker community
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="fixed-credit">
    <div class="credit-content">
      Built by <span class="neon-max" id="neon-max">MAX</span>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // README laden und anzeigen
    async function loadReadme() {
      const readmeContent = document.getElementById('readme-content');
      const readmeStatus = document.getElementById('readme-status');
      
      try {
        readmeStatus.textContent = 'Loading...';
        readmeStatus.className = 'badge bg-warning';
        
        // Raw README direkt von GitHub laden (funktioniert mit GitHub Pages)
        const response = await fetch('https://raw.githubusercontent.com/DockerDiscordControl/DockerDiscordControl/main/README.md');
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        // Text direkt lesen (bereits UTF-8)
        const readmeText = await response.text();
        
        // Markdown bereinigen vor dem Parsen
        let cleanedMarkdown = readmeText
          // Entferne GitHub-spezifische Metadaten am Anfang
          .replace(/^---[\s\S]*?---\n/m, '')
          // Konvertiere übermäßige Listen zu Paragraphen
          .replace(/^\s*[\*\-\+]\s+(.+)$/gm, (match, content) => {
            // Nur wichtige Listen behalten (mit Schlüsselwörtern)
            if (content.match(/^(Features?|Installation|Setup|Requirements?|Dependencies|Commands?|Examples?|Usage|Configuration|Options?):/i)) {
              return `### ${content}`;
            }
            // Kurze Listen-Items zu normalen Paragraphen machen
            if (content.length < 100) {
              return `**${content}**`;
            }
            return content;
          })
          // Mehrfache Aufzählungszeichen entfernen
          .replace(/^\s*[\*\-\+]\s*[\*\-\+]\s*/gm, '• ')
          // Verschachtelte Listen vereinfachen
          .replace(/^(\s+)[\*\-\+]\s+/gm, '$1• ')
          // Übermäßige Leerzeichen bereinigen
          .replace(/\s{3,}/g, ' ')
          // Mehrfache Zeilenumbrüche reduzieren
          .replace(/\n{4,}/g, '\n\n')
          // Trailing spaces entfernen
          .replace(/[ \t]+$/gm, '')
          // Lange Listen in Abschnitte unterteilen
          .replace(/((?:^[\*\-\+]\s+.+\n){5,})/gm, (match) => {
            // Lange Listen in kleinere Gruppen aufteilen
            const items = match.split('\n').filter(line => line.trim());
            const chunks = [];
            for (let i = 0; i < items.length; i += 3) {
              chunks.push(items.slice(i, i + 3).join('\n'));
            }
            return chunks.join('\n\n') + '\n';
          })
          // Spezielle DockerDiscordControl Abschnitte bereinigen
          .replace(/^## (Features|Installation|Configuration|Usage)/gm, '## $1')
          // Entferne übermäßige Code-Blöcke in Listen
          .replace(/^\s*[\*\-\+]\s+```[\s\S]*?```/gm, '')
          // Konvertiere einfache Listen zu Fließtext
          .replace(/^([\*\-\+]\s+[^:\n]{10,50})\n([\*\-\+]\s+[^:\n]{10,50})\n([\*\-\+]\s+[^:\n]{10,50})/gm, 
            (match, item1, item2, item3) => {
              const clean1 = item1.replace(/^[\*\-\+]\s+/, '');
              const clean2 = item2.replace(/^[\*\-\+]\s+/, '');
              const clean3 = item3.replace(/^[\*\-\+]\s+/, '');
              return `${clean1}, ${clean2}, and ${clean3}.`;
            });
        
        // Markdown zu HTML konvertieren mit besseren Optionen
        const htmlContent = marked.parse(cleanedMarkdown, {
          breaks: true,
          gfm: true,
          sanitize: false,
          smartLists: true,
          smartypants: false
        });
        
        // Inhalt anzeigen
        readmeContent.innerHTML = htmlContent;
        
        // Status aktualisieren
        readmeStatus.textContent = 'Loaded';
        readmeStatus.className = 'badge bg-success';
        
        // Post-processing: HTML bereinigen
        // Entferne leere Paragraphen
        const emptyPs = readmeContent.querySelectorAll('p:empty, p:not(:has(*)):not(:has(text()))');
        emptyPs.forEach(p => p.remove());
        
        // Bereinige verschachtelte Listen
        const nestedLists = readmeContent.querySelectorAll('ul ul, ol ol');
        nestedLists.forEach(list => {
          if (list.children.length === 0) {
            list.remove();
          }
        });
        
        // Links anpassen (relative Links zu absoluten GitHub-Links)
        const links = readmeContent.querySelectorAll('a[href^="#"], a[href^="./"], a[href^="../"], a[href^="docs/"], a[href^="config/"]');
        links.forEach(link => {
          const href = link.getAttribute('href');
          if (href.startsWith('#')) {
            // Anker-Links bleiben wie sie sind
            return;
          } else if (href.startsWith('./') || href.startsWith('../') || href.startsWith('docs/') || href.startsWith('config/')) {
            // Relative Links zu GitHub umleiten
            const cleanHref = href.replace(/^\.\//, '').replace(/^\.\.\//, '');
            link.setAttribute('href', `https://github.com/DockerDiscordControl/DockerDiscordControl/blob/main/${cleanHref}`);
            link.setAttribute('target', '_blank');
            link.setAttribute('rel', 'noopener noreferrer');
          }
        });
        
        // Bilder anpassen
        const images = readmeContent.querySelectorAll('img');
        images.forEach(img => {
          const src = img.getAttribute('src');
          if (src && !src.startsWith('http')) {
            // Relative Bilder zu GitHub Raw Content umleiten
            const cleanSrc = src.replace(/^\.\//, '').replace(/^\.\.\//, '');
            img.setAttribute('src', `https://raw.githubusercontent.com/DockerDiscordControl/DockerDiscordControl/main/${cleanSrc}`);
          }
        });
        
        // Tabellen responsive machen
        const tables = readmeContent.querySelectorAll('table');
        tables.forEach(table => {
          const wrapper = document.createElement('div');
          wrapper.className = 'table-responsive';
          table.parentNode.insertBefore(wrapper, table);
          wrapper.appendChild(table);
        });
        
        // Scroll-to-top nach dem Laden
        setTimeout(() => {
          const readmeSection = document.querySelector('.readme-section');
          if (readmeSection) {
            readmeSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }, 500);
        
      } catch (error) {
        console.error('Error loading README:', error);
        
        // Fallback: Versuche es mit einem Proxy-Service
        try {
          readmeStatus.textContent = 'Retrying...';
          readmeStatus.className = 'badge bg-info';
          
          const proxyResponse = await fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://raw.githubusercontent.com/DockerDiscordControl/DockerDiscordControl/main/README.md'));
          
          if (proxyResponse.ok) {
            const proxyData = await proxyResponse.json();
            const readmeText = proxyData.contents;
            
            const htmlContent = marked.parse(readmeText, {
              breaks: true,
              gfm: true,
              sanitize: false
            });
            
            readmeContent.innerHTML = htmlContent;
            readmeStatus.textContent = 'Loaded (Proxy)';
            readmeStatus.className = 'badge bg-success';
            return;
          }
        } catch (proxyError) {
          console.error('Proxy also failed:', proxyError);
        }
        
        // Wenn alles fehlschlägt, zeige Fallback
        readmeContent.innerHTML = `
          <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle me-2"></i>
            <strong>Unable to load README</strong><br>
            Please visit the <a href="https://github.com/DockerDiscordControl/DockerDiscordControl" target="_blank" rel="noopener noreferrer" class="alert-link">GitHub Repository</a> for the latest documentation.
            <br><br>
            <div class="mt-3">
              <button class="btn btn-outline-primary btn-sm" onclick="loadReadme()">
                <i class="bi bi-arrow-clockwise me-1"></i>Try Again
              </button>
            </div>
          </div>
        `;
        readmeStatus.textContent = 'Error';
        readmeStatus.className = 'badge bg-danger';
      }
    }
    
    // Neon flicker effect for MAX in footer and DDC in header
    (function setupNeonFlicker() {
        const neonMaxElement = document.getElementById('neon-max');
        const neonDdcElement = document.getElementById('neon-ddc');
        
        function flickerElement(element) {
            if (!element) return;
            
            // Decide if we flicker now
            if (Math.random() < 0.7) {
                // Decide flicker type - sometimes completely off
                const completelyOff = Math.random() < 0.3;
                const flickerClass = completelyOff ? 'flicker-off' : 'flicker';
                
                // Create a flicker
                element.classList.add(flickerClass);
                
                // Random flicker duration between 100ms and 1000ms
                const flickerDuration = Math.random() * 900 + 100;
                
                // Remove the flicker class after the duration
                setTimeout(() => {
                    element.classList.remove(flickerClass);
                }, flickerDuration);
            }
        }
        
        function flickerNeon() {
            // Flicker MAX element
            flickerElement(neonMaxElement);
            
            // Flicker DDC element (with different timing)
            setTimeout(() => {
                flickerElement(neonDdcElement);
            }, Math.random() * 2000);
            
            // Schedule next flicker check in 5-10 seconds
            const nextFlickerTime = Math.random() * 5000 + 5000;
            setTimeout(flickerNeon, nextFlickerTime);
        }
        
        // Start the flicker effect
        setTimeout(flickerNeon, 3000); // First flicker after 3 seconds
    })();
    
    // README laden, wenn die Seite geladen ist
    document.addEventListener('DOMContentLoaded', loadReadme);
    
    // Screenshot Carousel Funktionalität
    let currentSlide = 0;
    let autoplayInterval;
    let isAutoplayActive = true;
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.indicator');
    const featureCards = document.querySelectorAll('.feature-card');
    
    // Auto-play starten
    function startAutoplay() {
      autoplayInterval = setInterval(() => {
        if (isAutoplayActive) {
          changeSlide(1);
        }
      }, 5000); // 5 Sekunden pro Slide (mehr Zeit für 8 Slides)
    }
    
    // Auto-play stoppen
    function stopAutoplay() {
      clearInterval(autoplayInterval);
    }
    
    // Auto-play toggle
    function toggleAutoplay() {
      const btn = document.getElementById('autoplayBtn');
      const icon = btn.querySelector('i');
      
      isAutoplayActive = !isAutoplayActive;
      
      if (isAutoplayActive) {
        icon.className = 'bi bi-pause-fill';
        startAutoplay();
      } else {
        icon.className = 'bi bi-play-fill';
        stopAutoplay();
      }
    }
    
    // Slide wechseln
    function changeSlide(direction) {
      const totalSlides = slides.length;
      
      // Aktuellen Slide deaktivieren
      slides[currentSlide].classList.remove('active');
      indicators[currentSlide].classList.remove('active');
      
      // Neuen Slide berechnen
      currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
      
      // Neuen Slide aktivieren
      slides[currentSlide].classList.add('active');
      indicators[currentSlide].classList.add('active');
      
      // Carousel Position aktualisieren
      const carouselSlides = document.getElementById('carouselSlides');
      carouselSlides.style.transform = `translateX(-${currentSlide * 9.09}%)`;
      
      // Feature-Karten synchronisieren
      updateFeatureCards();
    }
    
    // Feature-Karten basierend auf aktuellem Slide aktualisieren
    function updateFeatureCards() {
      const currentFeature = slides[currentSlide].getAttribute('data-feature');
      
      // Alle Feature-Karten deaktivieren
      featureCards.forEach(card => card.classList.remove('active'));
      
      // Spezielle Behandlung für Control/Status - beide aktivieren die "control" Karte
      if (currentFeature === 'control' || currentFeature === 'status') {
        const controlCard = document.querySelector('.feature-card[data-feature="control"]');
        if (controlCard) {
          controlCard.classList.add('active');
        }
      } else {
        // Entsprechende Feature-Karte aktivieren
        const matchingCard = document.querySelector(`.feature-card[data-feature="${currentFeature}"]`);
        if (matchingCard) {
          matchingCard.classList.add('active');
        }
      }
    }
    
    // Zu spezifischem Slide gehen
    function goToSlide(slideIndex) {
      const direction = slideIndex - currentSlide;
      changeSlide(direction);
    }
    
    // Feature auswählen (von Feature-Karte)
    function selectFeature(featureName) {
      let slideIndex = -1;
      
      // Spezielle Behandlung für "control" - zeigt sowohl Control als auch Status
      if (featureName === 'control') {
        // Finde den ersten Control- oder Status-Slide
        slideIndex = Array.from(slides).findIndex(slide => {
          const feature = slide.getAttribute('data-feature');
          return feature === 'control' || feature === 'status';
        });
      } else {
        // Finde den ersten Slide mit diesem Feature
        slideIndex = Array.from(slides).findIndex(slide => 
          slide.getAttribute('data-feature') === featureName
        );
      }
      
      if (slideIndex !== -1) {
        goToSlide(slideIndex);
        
        // Scroll zum Carousel
        document.querySelector('.screenshot-carousel-section').scrollIntoView({
          behavior: 'smooth',
          block: 'center'
        });
        
        // Auto-play kurz pausieren
        const wasAutoplay = isAutoplayActive;
        if (isAutoplayActive) {
          toggleAutoplay();
          setTimeout(() => {
            if (wasAutoplay) toggleAutoplay();
          }, 10000); // 10 Sekunden Pause für mehr Screenshots
        }
      }
    }
    
    // Carousel Modal öffnen (Vollbild)
    function openCarouselModal() {
      const currentImage = slides[currentSlide].querySelector('.carousel-image');
      const currentCaption = slides[currentSlide].querySelector('.carousel-caption');
      
      openImageModal(
        currentImage.src,
        currentCaption.querySelector('h3').textContent,
        currentCaption.querySelector('p').textContent
      );
    }
    
    // Touch/Swipe Support für Mobile
    let touchStartX = 0;
    let touchEndX = 0;
    
    function handleTouchStart(e) {
      touchStartX = e.changedTouches[0].screenX;
    }
    
    function handleTouchEnd(e) {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    }
    
    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = touchStartX - touchEndX;
      
      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          changeSlide(1); // Swipe left - next slide
        } else {
          changeSlide(-1); // Swipe right - previous slide
        }
      }
    }
    
    // Event Listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Initiale Feature-Karte aktivieren
      updateFeatureCards();
      
      // Auto-play starten
      startAutoplay();
      
      // Touch Events für Carousel
      const carousel = document.querySelector('.carousel-container');
      carousel.addEventListener('touchstart', handleTouchStart, false);
      carousel.addEventListener('touchend', handleTouchEnd, false);
      
      // Pause auto-play bei Hover (Desktop)
      carousel.addEventListener('mouseenter', () => {
        if (isAutoplayActive) stopAutoplay();
      });
      
      carousel.addEventListener('mouseleave', () => {
        if (isAutoplayActive) startAutoplay();
      });
      
      // Keyboard Navigation
      document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowLeft') {
          changeSlide(-1);
        } else if (e.key === 'ArrowRight') {
          changeSlide(1);
        } else if (e.key === ' ') {
          e.preventDefault();
          toggleAutoplay();
        }
      });
    });
    
    // Image Modal Funktionen
    function openImageModal(imageSrc, title, description) {
      const modal = document.getElementById('imageModal');
      const modalImage = document.getElementById('modalImage');
      const modalTitle = document.getElementById('modalTitle');
      const modalDescription = document.getElementById('modalDescription');
      const modalDownload = document.getElementById('modalDownload');
      
      // Responsive Image Loading basierend auf Bildschirmgröße
      const screenWidth = window.innerWidth;
      const screenHeight = window.innerHeight;
      const devicePixelRatio = window.devicePixelRatio || 1;
      
      // Bestimme optimale Bildgröße
      let optimalWidth, optimalHeight;
      
      if (screenWidth <= 480) {
        // Mobile
        optimalWidth = Math.min(screenWidth * 0.9, 400) * devicePixelRatio;
        optimalHeight = Math.min(screenHeight * 0.6, 300) * devicePixelRatio;
      } else if (screenWidth <= 768) {
        // Tablet
        optimalWidth = Math.min(screenWidth * 0.8, 600) * devicePixelRatio;
        optimalHeight = Math.min(screenHeight * 0.7, 450) * devicePixelRatio;
      } else if (screenWidth <= 1200) {
        // Desktop Small
        optimalWidth = Math.min(screenWidth * 0.7, 800) * devicePixelRatio;
        optimalHeight = Math.min(screenHeight * 0.8, 600) * devicePixelRatio;
      } else {
        // Desktop Large
        optimalWidth = Math.min(screenWidth * 0.6, 1200) * devicePixelRatio;
        optimalHeight = Math.min(screenHeight * 0.8, 900) * devicePixelRatio;
      }
      
      // Erstelle responsive Image mit verschiedenen Größen
      const img = new Image();
      img.onload = function() {
        // Berechne Aspect Ratio
        const aspectRatio = this.naturalWidth / this.naturalHeight;
        
        // Passe Dimensionen an Aspect Ratio an
        if (optimalWidth / aspectRatio > optimalHeight) {
          optimalWidth = optimalHeight * aspectRatio;
        } else {
          optimalHeight = optimalWidth / aspectRatio;
        }
        
        // Setze optimierte Bildgröße
        modalImage.style.maxWidth = Math.round(optimalWidth / devicePixelRatio) + 'px';
        modalImage.style.maxHeight = Math.round(optimalHeight / devicePixelRatio) + 'px';
        modalImage.style.width = 'auto';
        modalImage.style.height = 'auto';
        
        // Verbessere Bildqualität für High-DPI Displays
        if (devicePixelRatio > 1) {
          modalImage.style.imageRendering = 'crisp-edges';
          modalImage.style.imageRendering = '-webkit-optimize-contrast';
        }
      };
      
      img.src = imageSrc;
      modalImage.src = imageSrc;
      modalTitle.textContent = title;
      modalDescription.textContent = description;
      modalDownload.href = imageSrc;
      modalDownload.download = `ddc-${title.toLowerCase().replace(/\s+/g, '-')}-screenshot.png`;
      
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      
      // Animation
      setTimeout(() => {
        modal.classList.add('show');
      }, 10);
    }
    
    function closeImageModal() {
      const modal = document.getElementById('imageModal');
      
      modal.classList.remove('show');
      document.body.style.overflow = 'auto';
      
      setTimeout(() => {
        modal.style.display = 'none';
        // Reset image styles
        const modalImage = document.getElementById('modalImage');
        modalImage.style.maxWidth = '';
        modalImage.style.maxHeight = '';
        modalImage.style.width = '';
        modalImage.style.height = '';
        modalImage.style.imageRendering = '';
      }, 300);
    }
    
    // Responsive Image Resizing bei Fenstergrößenänderung
    let resizeTimeout;
    window.addEventListener('resize', function() {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(function() {
        const modal = document.getElementById('imageModal');
        if (modal.style.display === 'flex') {
          // Modal ist offen, aktualisiere Bildgröße
          const modalImage = document.getElementById('modalImage');
          const currentSrc = modalImage.src;
          const title = document.getElementById('modalTitle').textContent;
          const description = document.getElementById('modalDescription').textContent;
          
          // Schließe und öffne Modal neu mit neuen Dimensionen
          closeImageModal();
          setTimeout(() => {
            openImageModal(currentSrc, title, description);
          }, 350);
        }
      }, 250);
    });
    
    // ESC-Taste zum Schließen
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeImageModal();
      }
    });
  </script>

  <!-- Image Modal -->
  <div id="imageModal" class="image-modal" onclick="closeImageModal()">
    <div class="image-modal-content" onclick="event.stopPropagation()">
      <div class="image-modal-header">
        <h3 id="modalTitle">Feature Screenshot</h3>
        <button class="modal-close" onclick="closeImageModal()">
          <i class="bi bi-x-lg"></i>
        </button>
      </div>
      <div class="image-modal-body">
        <img id="modalImage" src="" alt="Feature Screenshot">
        <p id="modalDescription">Feature description</p>
      </div>
      <div class="image-modal-footer">
        <button class="btn btn-outline-light" onclick="closeImageModal()">
          <i class="bi bi-x-circle me-2"></i>Close
        </button>
        <a id="modalDownload" href="" download class="btn btn-primary">
          <i class="bi bi-download me-2"></i>Download Image
        </a>
      </div>
    </div>
  </div>
</body>
</html> 